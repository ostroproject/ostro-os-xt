From 9d27b530498560376a4ef3aef5214cbc21c36c05 Mon Sep 17 00:00:00 2001
From: Ross Burton <ross.burton@intel.com>
Date: Tue, 7 Jun 2016 15:13:59 +0100
Subject: [PATCH] Add support for more Broxton PCI IDs

Upstream-Status: Inappropriate [the added IDs are not public]

---
 src/cl_device_data.h | 10 +++++++++-
 src/cl_device_id.c   |  5 +++++
 2 files changed, 14 insertions(+), 1 deletion(-)

diff --git a/src/cl_device_data.h b/src/cl_device_data.h
index f680219..13d4102 100644
--- a/src/cl_device_data.h
+++ b/src/cl_device_data.h
@@ -297,10 +297,18 @@
 #define IS_SKYLAKE(devid) (IS_SKL_GT1(devid) || IS_SKL_GT2(devid) || IS_SKL_GT3(devid) || IS_SKL_GT4(devid))
 
 /* BXT */
+#define PCI_CHIP_BROXTON_0	0x0A84
+#define PCI_CHIP_BROXTON_1	0x1A84
 #define PCI_CHIP_BROXTON_P	0x5A84   /* Intel(R) BXT-P for mobile desktop */
+#define PCI_CHIP_BROXTON_2	0x1A85
+#define PCI_CHIP_BROXTON_3	0x5A85
 
 #define IS_BROXTON(devid)               \
-  (devid == PCI_CHIP_BROXTON_P)
+  (devid == PCI_CHIP_BROXTON_0 || \
+   devid == PCI_CHIP_BROXTON_1 || \
+   devid == PCI_CHIP_BROXTON_P || \
+   devid == PCI_CHIP_BROXTON_2 || \
+   devid == PCI_CHIP_BROXTON_3)
 
 #define PCI_CHIP_KABYLAKE_ULT_GT1     0x5906
 #define PCI_CHIP_KABYLAKE_ULT_GT2     0x5916
diff --git a/src/cl_device_id.c b/src/cl_device_id.c
index d29138d..5a5e0ab 100644
--- a/src/cl_device_id.c
+++ b/src/cl_device_id.c
@@ -625,6 +625,11 @@ skl_gt4_break:
       cl_intel_platform_enable_extension(ret, cl_khr_fp16_ext_id);
       break;
 
+    case PCI_CHIP_BROXTON_0:
+    case PCI_CHIP_BROXTON_1:
+    case PCI_CHIP_BROXTON_2:
+    case PCI_CHIP_BROXTON_3:
+      DECL_INFO_STRING(bxt_break, intel_bxt_device, name, "Intel(R) HD Graphics Broxton");
     case PCI_CHIP_BROXTON_P:
       DECL_INFO_STRING(bxt_break, intel_bxt_device, name, "Intel(R) HD Graphics Broxton-P");
 bxt_break:
-- 
2.5.5

